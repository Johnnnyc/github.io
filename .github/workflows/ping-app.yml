name: Ping App

on:
  schedule:
    # 每5分钟运行一次
    - cron: '*/5 * * * *'
  workflow_dispatch:
    # 允许手动触发

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping health endpoint
        run: |
          # 替换为你的Replit应用URL
          REPLIT_URL="https://6be552f2-d09f-4d23-9505-58846266f57b-00-51bi4tpuumjw.sisko.replit.dev:3000"
          
          # 向健康检查端点发送请求
          echo "Pinging health endpoint..."
          curl -s -o /dev/null -w "%{http_code}" "$REPLIT_URL/health"
          
          echo "Ping completed successfully!"
